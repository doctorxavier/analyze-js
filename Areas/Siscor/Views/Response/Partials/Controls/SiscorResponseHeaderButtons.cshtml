@using IDB.MW.Application.SiscorModule.Enums;

@model IDB.MW.Application.SiscorModule.ViewModels.SiscorResponseInformationViewModel


<div class="text-right">
    <span data-pagemode="edit" class="hidden">
        @if (Model.DocumentStatusCode == SiscorEnums.STATUS_ON_REVISION)
        {
            <button data-id="buttonModal" class="buttonBlue"
                    data-idb-fieldname="btnSendWithFlowRequired"
                    data-action="validateBeforeShowingModal"
                    data-modal-allowclose="true"
                    data-custom-modal="OutputModal"
                    data-custom-modal-style="vex-theme"
                    data-custom-modal-title="@Localization.GetText("SC.SC.Response.Buttons.SendWithFlowRequired")"
                    data-custom-modal-validate="false"
                    data-custom-buttons='["save", "cancel"]'
                    data-custom-button-save-id="send"
                    data-custom-button-save="@Localization.GetText("SC.SC.Response.SaveAndAccept")"
                    data-custom-button-save-style="buttonBlue"
                    data-custom-button-save-callback="SCSendWithFlowRequired"
                    data-custom-button-save-closeatend="true"
                    data-custom-button-cancel-id="cancel"
                    data-custom-button-cancel="@Localization.GetText("OP.AP.Cancel")"
                    data-custom-button-cancel-style="buttonLink"
                    data-custom-button-cancel-callback=""
                    data-custom-modal-onclose=""
                    data-custom-modal-closeonoverlayclick="false">
                @Localization.GetText("SC.SC.Response.Buttons.SendWithFlowRequired")
            </button>

    <button data-id="buttonModal" class="buttonBlue"
            data-idb-fieldname="btnSendFinalDocument"
            data-action="validateBeforeShowingModal"
            data-modal-allowclose="true"
            data-custom-modal="OutputModal"
            data-custom-modal-style="vex-theme"
            data-custom-modal-title="@Localization.GetText("SC.SC.Response.Buttons.SendFinalDocument")"
            data-custom-modal-validate="true"
            data-custom-buttons='["save", "cancel"]'
            data-custom-button-save-id="send"
            data-custom-button-save="@Localization.GetText("SC.SC.Response.SaveAndAccept")"
            data-custom-button-save-style="buttonBlue"
            data-custom-button-save-callback="SCSendFinalDocument"
            data-custom-button-save-closeatend="true"
            data-custom-button-cancel-id="cancel"
            data-custom-button-cancel="@Localization.GetText("OP.AP.Cancel")"
            data-custom-button-cancel-style="buttonLink"
            data-custom-button-cancel-callback=""
            data-custom-modal-onclose=""
            data-custom-modal-closeonoverlayclick="false">
        @Localization.GetText("SC.SC.Response.Buttons.SendFinalDocument")
    </button>
        }
        
        @*@if (Model.DocumentStatusCode == SiscorEnums.STATUS_PAUSE || Model.DocumentStatusCode == SiscorEnums.STATUS_ON_REVISION)
        {*@
            <button data-id="buttonModal" class="buttonWhite hidden"
                    data-idb-fieldname="btnCancelOutupt"
                    data-action="validateBeforeShowingModal"
                    data-modal-allowclose="true"
                    data-custom-modal="OutputModal"
                    data-custom-modal-style="vex-theme"
                    data-custom-modal-title="@Localization.GetText("SC.SC.Response.Buttons.CancelOutput")"
                    data-custom-modal-validate="true"
                    data-custom-buttons='["save", "cancel"]'
                    data-custom-button-save-id="send"
                    data-custom-button-save="@Localization.GetText("SC.SC.Response.SaveAndAccept")"
                    data-custom-button-save-style="buttonBlue"
                    data-custom-button-save-callback="SCcancelOutput"
                    data-custom-button-save-closeatend="true"
                    data-custom-button-cancel-id="cancel"
                    data-custom-button-cancel="@Localization.GetText("OP.AP.Cancel")"
                    data-custom-button-cancel-style="buttonLink"
                    data-custom-button-cancel-callback=""
                    data-custom-modal-onclose=""
                    data-custom-modal-closeonoverlayclick="false">
                @Localization.GetText("SC.SC.Response.Buttons.CancelOutput")
            </button>
        @*}*@

        @if ((Model.DocumentStatusCode != SiscorEnums.STATUS_ON_REVISION) && (Model.DocumentStatusCode != SiscorEnums.STATUS_PAUSE) && (Model.DocumentStatusCode != SiscorEnums.STATUS_RESPONDED) && (Model.DocumentStatusCode != SiscorEnums.STATUS_CANCELED))
        {
            <button data-id="buttonModal" class="buttonBlue"
                    data-idb-fieldname="btnCreateOutput"
                    data-action="validateBeforeShowingModal"
                    data-modal-allowclose="true"
                    data-custom-modal="OutputModal"
                    data-custom-modal-style="vex-theme"
                    data-custom-modal-title="@Localization.GetText("SC.SC.Response.CreateOutput")"
                    data-custom-modal-validate="true"
                    data-custom-buttons='["save", "cancel"]'
                    data-custom-button-save-id="send"
                    data-custom-button-save="@Localization.GetText("SC.SC.Response.SaveAndAccept")"
                    data-custom-button-save-style="buttonBlue"
                    data-custom-button-save-callback="SCResponseCreateOutput"
                    data-custom-button-save-closeatend="true"
                    data-custom-button-cancel-id="cancel"
                    data-custom-button-cancel="@Localization.GetText("OP.AP.Cancel")"
                    data-custom-button-cancel-style="buttonLink"
                    data-custom-button-cancel-callback=""
                    data-custom-modal-onclose=""
                    data-custom-modal-closeonoverlayclick="false">
                @Localization.GetText("SC.SC.Response.Buttons.CreateOutput")
            </button>
        }
        

    </span>
    <div data-id="ModalRegion">
        <div id="OutputModal" class="hide modalBody ResponseModal hidden">@Localization.GetText("SC.SC.Response.Message.SaveAndAccept")</div>
    </div>

</div>

