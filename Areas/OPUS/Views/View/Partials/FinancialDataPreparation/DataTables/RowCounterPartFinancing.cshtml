@using IDB.Presentation.MVC4.Areas.OPUS.Helpers;
@using IDB.MW.Domain.Values;

<tr data-id="0">
    <td class="tree">
        <span></span><span class="selected"></span>
    </td>
    <td>
        @{ 
            var listFundingSource = CofinancingHelper.GetMasterCodeSources(
                OPUSGlobalValues.COFIN_COUNTERPART_TYPES);
            }
        <div data-pagemode="edit">
            <input type="hidden" name="CounterpartDetailId" value="0" />
            @Confluence.InputDropDown(
                null,
                "CounterpartFinancingTypes",
                listFundingSource, 
                required: true,
                width: "130px")
        </div>
    </td>
    <td>
        <div data-pagemode="edit">
            @Confluence.InputSelectDropDownAutoComplete(
                null, 
                "CounterpartFundingSource",
                CofinancingHelper.GetFundingSources(),
                orderAsc: false,
                required: true, 
                groupName: true,
                width: "100%",
                maxLength: 200)
        </div>
    </td>
    <td>
        <div data-pagemode="edit">
            @Confluence.InputDropDown(
                null,
                "CounterpartFinancingCashOrInKind",
                CofinancingHelper.GetMasterCodeSources(OPUSGlobalValues.COFIN_CASH_KIND),
                required: true,
                width: "100%")
        </div>
    </td>
    <td>
        <div data-pagemode="edit">
            @Confluence.InputText(
                string.Empty,
                "CounterpartFinancingDescription",
                width: "100%",
                required: false,
                maxLength: 200,
                dataAttributes: new Dictionary<string, string>()
                {
                    { "idb-fieldname", "txtCountFinName" }
                })
        </div>
    </td>
    <td>
        <div data-pagemode="edit">
            @Confluence.InputDecimal(
                null,
                "CounterPartAmount",
                width: "100%",
                required: true,
                htmlClass: "text-right")
        </div>
    </td>
    <td>
        <div data-pagemode="edit">
            @Confluence.InputDropDown(null,
            "CounterpartStatus",
            CofinancingHelper.GetMasterCodeSources(OPUSGlobalValues.COFIN_STATUS),
            required: true,
            width: "100%")
        </div>
    </td>
    <td>
        <div data-pagemode="edit">
            @Confluence.ButtonTrash(
                text: string.Empty,
                name: "removeCounterPart",
                dataAttributes: new Dictionary<string, string>()
                {
                    { "CounterpartFinancingId", "0" }
                })
        </div>
    </td>
</tr>
