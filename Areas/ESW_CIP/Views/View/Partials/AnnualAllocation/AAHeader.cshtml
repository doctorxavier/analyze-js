@using IDB.Presentation.MVC4.Helpers;
@using IDB.Architecture.Language;
@using IDB.MW.Application.ESW_CIPModule.ViewModels;

@model AnnualAllocationContainerViewModel

<link href="~/Content/Modules/ESWCIP/ESWCIP.css" rel="stylesheet" />

<div class="header">
    <div class="row grouping-section">
        <div class="col-md-6">
            @Confluence.LabelMainTitle(
                ViewBag.OperationModality + " " +
                    Localization.GetText("R6.Proposal.AnnualAllocation.AnnualAllocationTitle") + " "
                    + ViewBag.OperationYear,
                dataAttributes: new Dictionary<string, string>
                {
                    { "idb-fieldname", "lblProposalsTitle" }
                })
        </div>
        <div class="col-md-6 hideContent">
            @Html.Partial("Partials/AnnualAllocation/AAButton" ,Model)
        </div>
    </div>
    <div class="row grouping-section hideContent">
        <div class="col-md-12 text-right">
            @Confluence.ButtonExcel(
                "xls",
                "downloadAnnualAllocation",
                false,
                dataAttributes:
                new Dictionary<string, string>
                {
                    { "idb-fieldname", "btnXls" }
                },
                clase: "floatleft")
        </div>
    </div>
    <br />
</div>
<div class="filterNormal col-md-12 mt20 mb30">
    <div class="row mb20">
        <div class="col-md-2">
            <label class="labelNormal bold media-object" data-idb-fieldname="lblOperationNumber">
                @Localization.GetText("R6.Proposal.AnnualAllocation.OperationNumber")
            </label>
            @Confluence.InputDropDownAutoComplete(
                value: null,
                name: "OperationNumber",
                elements: null,
                validateOnChange: false,
                required: false,
                width: "100%",
                placeholder: @Localization.GetText("R6.Proposal.AnnualAllocation.OperationNumber"),
                dataAttributes: new Dictionary<string, string>
                {
                    { "idb-fieldname", "ddlOperationNumber" }
                })
        </div>
        <div class="col-md-2">
            <label class="labelNormal bold media-object" data-idb-fieldname="lblModality">
                @Localization.GetText("R6.Proposal.AnnualAllocation.TeamLeader")
            </label>
            @Confluence.InputDropDownAutoComplete(
                value: null,
                name: "TeamLeader",
                elements: null,
                validateOnChange: false,
                width: "100%",
                required: false,
                placeholder: @Localization.GetText("R6.Proposal.AnnualAllocation.TeamLeader"),
                dataAttributes: new Dictionary<string, string>
                {
                    { "idb-fieldname", "ddlTeamLeader" }
                })
        </div>
        <div class="col-md-1">
            <label class="labelNormal bold media-object" data-idb-fieldname="lblOperationYear">
                @Localization.GetText("Year")
            </label>
            @Confluence.InputDropDownAutoComplete(
                value: null,
                name: "OperationYear",
                elements: null,
                validateOnChange: false,
                width: "100%",
                required: false,
                placeholder: @Localization.GetText("Year"),
                dataAttributes: new Dictionary<string, string>
                {
                    { "idb-fieldname", "ddlOperationYear" }
                })
        </div>
        <div class="col-md-1">
            <label class="labelNormal bold media-object" data-idb-fieldname="lblDepartmentDivision">
                @Localization.GetText("R6.Proposal.AnnualAllocation.DepartmentDivision")
            </label>
            @Confluence.InputDropDownAutoComplete(
                value: null,
                name: "DepartmentDivision",
                elements: null,
                validateOnChange: false,
                width: "100%",
                required: false,
                placeholder: @Localization.GetText("R6.Proposal.AnnualAllocation.DepartmentDivision"),
                dataAttributes: new Dictionary<string, string>
                {
                    { "idb-fieldname", "ddlDepartmentDivision" }
                })
        </div>
        <div class="col-md-2">
            <label class="labelNormal bold media-object" data-idb-fieldname="lblProposalStatus">
                @Localization.GetText("R6.Proposal.AnnualAllocation.ProposalStatus")
            </label>
            @Confluence.InputDropDown(
                null,
                "ProposalStatus",
                null,
                false,
                width: "100%",
                required: false,
                dataAttributes: new Dictionary<string, string>
                {
                    { "idb-fieldname", "ddlProposalStatus" }
                })
        </div>
        @if (ViewBag.OperationModality.Equals("ESW"))
        {
            <div class="col-md-2">
                <label class="labelNormal bold media-object" data-idb-fieldname="lblStudiesCommittee">
                    @Localization.GetText("R6.Proposal.AnnualAllocation.StudiesCommittee")
                </label>
                @Confluence.InputDropDown(
                    null,
                    "StudiesCommittee",
                    null,
                    false,
                    width: "100%",
                    required: false,
                    dataAttributes: new Dictionary<string, string>
                    {
                        { "idb-fieldname", "ddlStudiesCommittee" }
                    })
            </div>
        }
        <div class="col-md-2">
            <label class="labelNormal bold media-object" data-idb-fieldname="lblDismiss">
                @Localization.GetText("R6.Proposal.AnnualAllocation.Dismiss")
            </label>
            @Confluence.InputDropDown(
                null,
                "Dismiss",
                null,
                false,
                width: "100%",
                required: false,
                dataAttributes: new Dictionary<string, string>
                {
                    { "idb-fieldname", "ddlDismiss" }
                })
        </div>
    </div>
    <div class="m210 mb20 text-right">
        <button class="buttonBlue" onclick="AAGridFilter.filterUpdate()">
            @Localization.GetText("Filter")
        </button>
        <button class="buttonBlue" onclick="AAGridFilter.filterClear()">
            @Localization.GetText("Clear All")
        </button>
    </div>
</div>