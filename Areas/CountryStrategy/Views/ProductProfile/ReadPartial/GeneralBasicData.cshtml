@using System.Globalization
@using IDB.Presentation.MVC4.Helpers
@using IDB.MVCControls.General.Helpers
@using IDB.MVCControls.DataTable.Helpers
@using IDB.MW.Infrastructure.Configuration
@using IDB.Presentation.MVC4.Models.Modal
@using IDB.Presentation.MVC4.General
@using IDB.MW.Application.CountryStrategyModule.ViewModels.ProductProfile
@model  BasicDataViewModel

@{
    var appSetting = ConfigurationServiceFactory.Current.GetApplicationSettings();
    var formatDate = appSetting.FormatDate;
}
<div class="grouping-section">
    <div class="col-md-8">
        <label class="lbltitle">@Localization.GetText("CS.ProductData.GeneralInformation")</label>
    </div>
    <div class="col-md-4">
        <label class="lbltitle pl16">@Localization.GetText("CS.ProductData.CountryStrategyUpdate")</label>
    </div>
</div>
<div class="grouping-section">
    <div class="col-md-4 lineGrayRight">
        <div class="col-md-12 lblcontent">
            @Localization.GetText("CS.ProductData.ProductType")
        </div>
        <div class="col-md-12 lblvalue">
            @Confluence.LabelBold(Model.ProductType)
        </div>
        <div data-idb-fieldname="ddlOperationYear">
            <div class="col-md-12 lblcontent">
                @Confluence.Label(Localization.GetText("CS.ProductData.ProductYear"))
            </div>
            <div class="col-md-12 lblvalue">
                @Confluence.LabelBold(Model.ProductYear.ToString())
            </div>
        </div>
        <div data-idb-fieldname="ddlSector">
            <div class="col-md-12 lblcontent">
                @Confluence.Label(Localization.GetText("CS.ProductData.Country"))
            </div>
            <div class="col-md-12 lblvalue">
                @Confluence.LabelBold(Model.Country)
            </div>
        </div>
        <div data-idb-fieldname="ddlSubSector">
            <div class="col-md-12 lblcontent">
                @Confluence.Label(Localization.GetText("CS.ProductData.CountryDepartment"))
            </div>
            <div class="col-md-12 lblvalue">
                @Confluence.LabelBold(Model.CountryDepartament)
            </div>
        </div>
    </div>
    <div class="col-md-4 pl16 lineGrayRight">
        <div class="col-md-12 lblcontent">
            @Localization.GetText("CS.ProductData.MBFCode")
        </div>
        <div class="col-md-12 lblvalue">
            @Confluence.LabelBold(Model.MBFCode)
        </div>
        <div class="col-md-12 lblcontent">
            @Localization.GetText("CS.ProductData.ValidPeriod")
        </div>
        <div class="col-md-12 lblvalue">
            @Confluence.LabelBold(Model.ValidPeriod)
        </div>
        <div class="col-md-12 lblcontent">
            @Localization.GetText("CS.ProductData.GN.Document.Number")
        </div>
        <div class="col-md-12 lblvalue">
            @Confluence.LabelBold(Model.GNDocumentNumber)
        </div>
    </div>
    <div class="col-md-4 pl16">
        <div class="col-md-12 lblcontent">
            @Localization.GetText("CS.ProductData.UpdateDate")
        </div>
        <div class="col-md-12 lblvalue">
            @Confluence.LabelBold(Model.UpdateDate)
        </div>
        <div class="col-md-12 lblcontent">
            @Localization.GetText("CS.ProductData.Justification")
        </div>
        <div class="col-md-12 labelNormal bold">
            @Model.Justification.HtmlEncode()
        </div>
    </div>

</div>
<div class="grouping-section">
    <div class="col-md-4 lineGrayRight">
        <div class="col-md-12 lblcontent">
            @Localization.GetText("CS.ProductData.Modality")
        </div>
        <div class="col-md-12 lblvalue">
            @Confluence.LabelBold(Model.ProductModality)
        </div>
        @if (Model.CPDsRelated.Any())
        {
            <div class="col-md-12 lblcontent">
                @Localization.GetText("CS.ProductData.CPDsRelated")
            </div>
            <div class="col-md-12">
                @foreach (var operationRelated in Model.CPDsRelated)
                {
                <div class="mb5">
                @Confluence.LabelLink(operationRelated.Item1,
                                      "link-CPDOperationNumber",
                                      htmlClass: "text-left",
                                      dataAttributes:
                                      new Dictionary<string, string> { 
                                              { "operationNumber", operationRelated.Item2 } 
                                      })
                </div>
                }
            </div>
        }
    </div>

    <div class="col-md-4 lineGrayRight">
    </div>

    <div class="col-md-4 pl16">
    </div>
</div>
<div class="mb20">
    @Html.Partial("ReadPartial/OperationName", Model)
</div>
