@using IDB.MW.Application.CPDModule.ViewModels.Annexes
@using IDB.MVCControls.General.Helpers
@using IDB.MW.Infrastructure.Configuration
@using IDB.Architecture.DataTables.Common

@model ResultMatrixTabViewModel

@{
    var appSettings = ConfigurationServiceFactory.Current.GetApplicationSettings();
    var formatDate = appSettings.FormatDate;
}

<div class="row">
    <div class="pl15 pr15 ftl">
        @Confluence.LabelsGroup(title: Localization.GetText("COMMON.LastUpdate"),
                                contentAlways: Confluence.LabelBold(FormatHelper.Format(Model.LastUpdate, formatDate)))
    </div>

    <div class="pl15 pr15 ftl space-username">
        @Confluence.LabelsGroup(title: Localization.GetText("COMMON.Username"),
                                contentAlways: Confluence.LabelBold(Model.UserName))
    </div>
    <div class="ftr pr15">
        @(Html.CollapseAll("collapseAllComponent")
        .HtmlClass("floatRight")
        .CollapseSingleSelector("[data-name=\"collapseComponent\"]"))
    </div>
</div>

<div class="row mb10">
    <div class="col-md-9 pl0">
        <div class="grouping-section pl15 mb0">
            <div class="mt10">
                @Confluence.LabelSubTitleGroup(Localization.GetText("CPD.Annexes.ResultMatrix.CountryStrategy.link"))
            </div>
        </div>
    </div>
</div>

<div class="row mb10">
    <div class="pl15 pr15 ftl">
        @Confluence.Label(Localization.GetText("CPD.Annexes.ResultMatrix.CountryStrategy.Download"))
    </div>
</div>

<div class="row mb30">
    <div class="col-md-10">
        @Confluence.LabelSubTitleGroup(Localization.GetText("CPD.Annexes.ResultMatrix.UseOfCountrySystems.Title"))
    </div>
</div>
<div class="row mb30" id="cpdUseCountrySystem" data-section="formContent" data-fake-pagemode="edit">
    <div class="col-md-12 pl40">
        @foreach (var strategicObjective in Model.StrategicObjectives)
        {
            @Html.Partial("EditPartial/EditStrategicObjectivesPartial", strategicObjective)
        }
    </div>
</div>
