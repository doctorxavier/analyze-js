@using IDB.MW.Infrastructure.Configuration
@using IDB.MVCControls.General.Helpers
@using IDB.MW.Application.CPDModule.ViewModels.CSProgressToDate
@using IDB.Architecture.DataTables.Common

@model CSPDUseOfCountrySystemsTabViewModel

@{
    var appSettings = ConfigurationServiceFactory.Current.GetApplicationSettings();
    var formatDate = appSettings.FormatDate;
}

<div class="row">
    <div class="pl15 pr15 ftl">
        @Confluence.LabelsGroup(title: Localization.GetText("COMMON.LastUpdate"),
                                contentAlways: Confluence.LabelBold(FormatHelper.Format(Model.LastUpdate, formatDate)))
    </div>

    <div class="pl15 pr15 ftl space-username">
        @Confluence.LabelsGroup(title: Localization.GetText("COMMON.Username"),
                                contentAlways: Confluence.LabelBold(Model.UserName))
    </div>
    <div class="ftr pr15">
        @(Html.CollapseAll("collapseAllUseOfCountrySystems")
            .HtmlClass("floatRight space")
            .CollapseSingleSelector("[data-name=\"collapseUseOfCountrySystemes\"]"))
    </div>
</div>

<div class="row mb20">
    <div class="col-md-12">
        @(Html.CollapseSingle("collapseUseOfCountrySystemes")
                            .HtmlClass("component-collapse alignSubtitle collapse-Title")
                            .AsociatedCollapseAllSelector("[data-name=collapseAllUseOfCountrySystems]")
                            .TargetRegionSelector("[data-name=\"UseOfCountrySystemsProgressToDate\"]")
        )<div>
            @Confluence.LabelSubTitleGroup(Localization.GetText("CPD.CSProgressToDate.UseOfCountrySystemes.CSProgressToDate.Title"))
        </div>
    </div>
</div>
<div class="row mb30" data-name="UseOfCountrySystemsProgressToDate">
    <div class="col-md-12 mb20">
        @Html.Partial("EditPartial/UseCountrySysTab/EditUseOfCountrySystemsProgressToDatePartial", Model)
    </div>
</div>
<div class="row mb10">
    <div class="col-md-12">
        @(Html.CollapseSingle("collapseUseOfCountrySystemes")
                            .HtmlClass("component-collapse alignSubtitle")
                            .AsociatedCollapseAllSelector("[data-name=collapseAllUseOfCountrySystems]")
                            .TargetRegionSelector("[data-name=\"StrengtheningInitiatives\"]")
        )<div>
            @Confluence.LabelBold(Localization.GetText("CPD.CSProgressToDate.UseOfCountrySystemes.StrengtheningInitiatives.Title"))
        </div>
    </div>
</div>
<div class="row mb30" data-name="StrengtheningInitiatives">
    <div class="col-md-12">
        @Html.Partial("EditPartial/UseCountrySysTab/EditStrengtheningInitiativesPartial", Model)
    </div>
</div>