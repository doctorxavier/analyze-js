@using IDB.Presentation.MVC4.Services.Core.DynamicFormsHelper
@model IDB.MW.Application.Core.ViewModels.FormRendering.FieldDataViewModel


@{
    var dateValue = (@Model.InitialValue == null) ? "" : @Model.InitialValue.ToString("dd MMM yyyy");
}


@Confluence.LabelsGroup(Model.Title,
                        Confluence.LabelGetDate(@Model.InitialValue, true),
                            contentEdit: Model.HasWritePermission ?
                        Confluence.InputDatePicker(Model.InitialValue, Model.Name, dataAttributes: Model.Attributes.ToDictionary(x => x.Key, x => x.Value),
                                isReadOnly: Model.HasReadPermission, disabled: !Model.HasReadPermission)
                        : Confluence.InputDatePicker(Model.InitialValue, Model.Name, dataAttributes: Model.Attributes.ToDictionary(x => x.Key, x => x.Value),
                                isReadOnly: Model.HasReadPermission, disabled: Model.HasReadPermission),
                        asterisk: Model.Validation.Code == "ATTR_MANDATORY"
                        )


